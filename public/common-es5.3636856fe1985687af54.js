function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FITU:function(e,t,c){"use strict";c.d(t,"a",(function(){return M}));var n=c("+0xr"),a=c("M9IT"),i=c("R0Ic"),r=c("fXoL"),o=c("IqTx"),l=c("dNgK"),s=c("XiUz"),u=c("ofXK"),b=c("NFeN"),m=c("A5z7"),f=c("Wp6s"),d=c("bTqV");function p(e,t){1&e&&(r.Ub(0,"th",15),r.Bc(1,"Rank"),r.Tb())}function h(e,t){if(1&e&&(r.Ub(0,"td",16),r.Bc(1),r.Tb()),2&e){var c=t.$implicit;r.Cb(1),r.Dc(" ",c.cmcRank," ")}}function g(e,t){1&e&&(r.Ub(0,"th",15),r.Bc(1,"Name"),r.Tb())}function v(e,t){1&e&&(r.Ub(0,"mat-icon",23),r.Bc(1,"favorite "),r.Tb())}function x(e,t){if(1&e&&(r.Ub(0,"td",16),r.Ub(1,"div",17),r.Pb(2,"img",18),r.Ub(3,"div",19),r.Ub(4,"div",20),r.Bc(5),r.zc(6,v,2,0,"mat-icon",21),r.Tb(),r.Ub(7,"div",22),r.Bc(8),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&e){var c=t.$implicit,n=r.gc();r.Cb(2),r.mc("src",c.imageUrl,r.uc),r.Cb(3),r.Dc(" ",c.name," "),r.Cb(1),r.mc("ngIf",c.favorited&&!n.isFavouriteScreen),r.Cb(2),r.Dc(" ",c.symbol," ")}}function C(e,t){1&e&&(r.Ub(0,"th",15),r.Bc(1,"Price"),r.Tb())}function y(e,t){if(1&e&&(r.Ub(0,"td",16),r.Bc(1),r.hc(2,"currency"),r.Tb()),2&e){var c=t.$implicit;r.Cb(1),r.Cc(r.ic(2,1,c.quote.USD.price))}}function w(e,t){1&e&&(r.Ub(0,"th",15),r.Bc(1,"Change"),r.Tb())}var U=function(e,t){return{positive:e,negative:t}};function T(e,t){if(1&e&&(r.Ub(0,"td",24),r.Bc(1),r.hc(2,"number"),r.Tb()),2&e){var c=t.$implicit;r.mc("ngClass",r.pc(4,U,c.quote.USD.percent_change_1h>0,c.quote.USD.percent_change_1h<0)),r.Cb(1),r.Dc("",r.ic(2,2,c.quote.USD.percent_change_1h),"% ")}}function _(e,t){1&e&&(r.Ub(0,"th",15),r.Bc(1,"Tags"),r.Tb())}function S(e,t){if(1&e&&(r.Ub(0,"mat-chip",27),r.Bc(1),r.Tb()),2&e){var c=t.$implicit;r.Cb(1),r.Cc(c)}}function D(e,t){if(1&e&&(r.Ub(0,"td",16),r.Ub(1,"mat-chip-list",25),r.zc(2,S,2,1,"mat-chip",26),r.Tb(),r.Tb()),2&e){var c=t.$implicit;r.Cb(2),r.mc("ngForOf",c.tags)}}function O(e,t){if(1&e){var c=r.Vb();r.Ub(0,"button",43),r.cc("click",(function(){r.tc(c);var e=r.gc(),t=e.$implicit,n=e.dataIndex;return r.gc().addToFavourite(t.id,n)})),r.Bc(1,"Add to Watchlist "),r.Tb()}}function k(e,t){if(1&e){var c=r.Vb();r.Ub(0,"button",44),r.cc("click",(function(){r.tc(c);var e=r.gc(),t=e.$implicit,n=e.dataIndex;return r.gc().removeFromFavourites(t.id,n)})),r.Bc(1,"Remove from Watchlist "),r.Tb()}}function B(e,t){if(1&e&&(r.Ub(0,"td",16),r.Ub(1,"div",28),r.Ub(2,"mat-card",29),r.Ub(3,"div",30),r.Ub(4,"div",31),r.Pb(5,"img",32),r.Tb(),r.Ub(6,"div",33),r.Ub(7,"div"),r.Ub(8,"span",34),r.Bc(9),r.Tb(),r.Ub(10,"span",35),r.Bc(11),r.Tb(),r.Tb(),r.Ub(12,"div"),r.Bc(13,"Listed on: "),r.Ub(14,"span",36),r.Bc(15),r.hc(16,"date"),r.Tb(),r.Tb(),r.Ub(17,"div"),r.Bc(18,"On Watchlist of: "),r.Ub(19,"span",36),r.Bc(20),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"div",37),r.Ub(22,"div"),r.Bc(23,"Change (24 Hr): "),r.Ub(24,"span",38),r.Bc(25),r.hc(26,"number"),r.Tb(),r.Tb(),r.Ub(27,"div"),r.Bc(28,"Change (7 Days): "),r.Ub(29,"span",38),r.Bc(30),r.hc(31,"number"),r.Tb(),r.Tb(),r.Ub(32,"div"),r.Bc(33,"Volume (24 Hr): "),r.Ub(34,"span",36),r.Bc(35),r.hc(36,"number"),r.Tb(),r.Tb(),r.Tb(),r.Ub(37,"div",39),r.Ub(38,"div"),r.Bc(39,"Market Cap: "),r.Ub(40,"span",36),r.Bc(41),r.hc(42,"currency"),r.Tb(),r.Tb(),r.Ub(43,"div"),r.Bc(44,"Circulating Supply: "),r.Ub(45,"span",36),r.Bc(46),r.hc(47,"number"),r.Ub(48,"span",40),r.Bc(49),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(50,"mat-card-actions"),r.zc(51,O,2,0,"button",41),r.zc(52,k,2,0,"button",42),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&e){var c=t.$implicit,n=r.gc();r.Db("colspan",n.columnsToDisplay.length),r.Cb(1),r.mc("@detailExpand",c==n.expandedElement?"expanded":"collapsed"),r.Cb(4),r.mc("src",c.imageUrl,r.uc),r.Cb(4),r.Cc(c.name),r.Cb(2),r.Dc("(",c.symbol,")"),r.Cb(4),r.Cc(r.ic(16,17,c.dateAdded)),r.Cb(5),r.Cc(c.favoritesCount+" people"||!1),r.Cb(4),r.mc("ngClass",r.pc(37,U,c.quote.USD.percent_change_24h>0,c.quote.USD.percent_change_24h<0)),r.Cb(1),r.Dc("",r.jc(26,19,c.quote.USD.percent_change_24h,"","en-US"),"%"),r.Cb(4),r.mc("ngClass",r.pc(40,U,c.quote.USD.percent_change_7d>0,c.quote.USD.percent_change_7d<0)),r.Cb(1),r.Dc("",r.jc(31,23,c.quote.USD.percent_change_7d,"","en-US"),"%"),r.Cb(5),r.Cc(r.jc(36,27,c.quote.USD.volume_24h,"","en-US")),r.Cb(6),r.Cc(r.ic(42,31,c.quote.USD.market_cap)),r.Cb(5),r.Cc(r.jc(47,33,c.circulatingSupply,"","en-US")),r.Cb(3),r.Cc(c.symbol),r.Cb(2),r.mc("ngIf",!c.favorited),r.Cb(1),r.mc("ngIf",c.favorited)}}function F(e,t){1&e&&r.Pb(0,"tr",45)}function P(e,t){if(1&e){var c=r.Vb();r.Ub(0,"tr",46),r.cc("click",(function(){r.tc(c);var e=t.$implicit,n=r.gc();return n.expandedElement=n.expandedElement===e?null:e})),r.Tb()}if(2&e){var n=t.$implicit,a=r.gc();r.Fb("example-expanded-row",a.expandedElement===n)}}function z(e,t){1&e&&r.Pb(0,"tr",47)}var L=function(){return["expandedDetail"]},M=function(){var e=function(){function e(t,c,n){_classCallCheck(this,e),this.currencyService=t,this.changeDetectorRefs=c,this.matSnackBar=n,this.pageSize=50,this.pageSizeOptions=[10,25,50,100],this.columnsToDisplay=["rank","name","price","price_change_1","tags"],this.isFavouriteScreen=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"addToFavourite",value:function(e,t){var c=this;this.currencyService.addToFavourite(e).subscribe((function(e){c.currencyList[t].favorited=e.currency.favorited,c.currencyList[t].favoritesCount=e.currency.favoritesCount,c.matSnackBar.open("Successfully added "+c.currencyList[t].name+" to your watchlist.","Ok",{duration:3e3,verticalPosition:"top"}),c.changeDetectorRefs.detectChanges()}))}},{key:"removeFromFavourites",value:function(e,t){var c=this;this.currencyService.removeFromFavourites(e).subscribe((function(e){c.currencyList[t].favorited=e.currency.favorited,c.currencyList[t].favoritesCount=e.currency.favoritesCount,c.matSnackBar.open("Successfully removed "+c.currencyList[t].name+" from your watchlist.","Ok",{duration:3e3,verticalPosition:"top"}),c.changeDetectorRefs.detectChanges()}))}},{key:"currencies",set:function(e){e&&(this.currencyList=e,this.length=this.currencyList.length,this.dataSource=new n.k(this.currencyList),this.dataSource.paginator=this.paginator)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Ob(o.a),r.Ob(r.h),r.Ob(l.a))},e.\u0275cmp=r.Ib({type:e,selectors:[["app-currency-table"]],viewQuery:function(e,t){var c;1&e&&r.xc(a.a,!0),2&e&&r.qc(c=r.dc())&&(t.paginator=c.first)},inputs:{isFavouriteScreen:"isFavouriteScreen",currencies:"currencies"},decls:23,vars:9,consts:[["fxFlex","calc(100% - 105px)","fxLayout","column",2,"overflow","auto"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","rank"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","price_change_1"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","tags"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","example-element-row","mat-row","",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["class","example-detail-row","mat-row","",4,"matRowDef","matRowDefColumns"],["fxFlex","56px",3,"length","pageSizeOptions","pageSize"],["mat-header-cell",""],["mat-cell",""],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],["onerror","this.src='/assets/app-logo.png'",1,"currency-small-icon",3,"src"],["fxLayout","column"],["fxLayout","row","fxLayoutAlign","start center",1,"currency-name"],["class","favourite-icon","color","warn",4,"ngIf"],[1,"currency-symbol"],["color","warn",1,"favourite-icon"],["mat-cell","",3,"ngClass"],["aria-label","Fish selection"],["color","primary","selected","",4,"ngFor","ngForOf"],["color","primary","selected",""],[1,"example-element-detail"],["fxFlex","100%","fxLayout","row","fxLayout.lt-sm","column","fxLayoutAlign","space-between center","fxLayoutAlign.lt-sm","start",1,"currency-detail-card","mat-elevation-z4"],["fxFlex","25%","fxFlex.lt-sm","100%","fxLayout","row","fxLayoutAlign","space-between center","fxLayoutAlign.lt-sm","center center","fxLayoutGap.gt-xs","10px"],["fxFlex","80px","fxFlex.lt-sm","50%"],["onerror","this.src='/assets/app-logo.png'",1,"currency-icon",3,"src"],["fxFlex","","fxFlex.lt-sm","100%"],[1,"currency-name"],[2,"font-weight","300","padding-left","5px"],[1,"bold-text"],["fxFlex","30%","fxFlex.lt-sm","100%"],[1,"bold-text",3,"ngClass"],["fxFlex","30%","fxFlex.lt-sm","50%"],[1,"currency-symbol",2,"margin-left","5px"],["class","full-width","color","primary","mat-raised-button","",3,"click",4,"ngIf"],["class","full-width","color","warn","mat-raised-button","",3,"click",4,"ngIf"],["color","primary","mat-raised-button","",1,"full-width",3,"click"],["color","warn","mat-raised-button","",1,"full-width",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(e,t){1&e&&(r.Ub(0,"div",0),r.Ub(1,"table",1),r.Sb(2,2),r.zc(3,p,2,0,"th",3),r.zc(4,h,2,1,"td",4),r.Rb(),r.Sb(5,5),r.zc(6,g,2,0,"th",3),r.zc(7,x,9,4,"td",4),r.Rb(),r.Sb(8,6),r.zc(9,C,2,0,"th",3),r.zc(10,y,3,3,"td",4),r.Rb(),r.Sb(11,7),r.zc(12,w,2,0,"th",3),r.zc(13,T,3,7,"td",8),r.Rb(),r.Sb(14,9),r.zc(15,_,2,0,"th",3),r.zc(16,D,3,1,"td",4),r.Rb(),r.Sb(17,10),r.zc(18,B,53,43,"td",4),r.Rb(),r.zc(19,F,1,0,"tr",11),r.zc(20,P,1,2,"tr",12),r.zc(21,z,1,0,"tr",13),r.Tb(),r.Tb(),r.Pb(22,"mat-paginator",14)),2&e&&(r.Cb(1),r.mc("dataSource",t.dataSource),r.Cb(18),r.mc("matHeaderRowDef",t.columnsToDisplay)("matHeaderRowDefSticky",!0),r.Cb(1),r.mc("matRowDefColumns",t.columnsToDisplay),r.Cb(1),r.mc("matRowDefColumns",r.nc(8,L)),r.Cb(1),r.mc("length",t.length)("pageSizeOptions",t.pageSizeOptions)("pageSize",t.pageSize))},directives:[s.a,s.c,n.j,n.c,n.e,n.b,n.g,n.i,a.a,n.d,n.a,s.b,s.d,u.n,b.a,u.l,m.b,u.m,m.a,f.a,f.b,d.a,n.f,n.h],pipes:[u.d,u.g,u.f],styles:['.currency-small-icon[_ngcontent-%COMP%]{height:30px;width:30px}.currency-icon[_ngcontent-%COMP%]{height:80px;width:80px}.currency-name[_ngcontent-%COMP%]{font-size:14px;padding-right:5px}.bold-text[_ngcontent-%COMP%], .currency-name[_ngcontent-%COMP%]{font-weight:500}.currency-symbol[_ngcontent-%COMP%]{font-size:12px;font-weight:300}table[_ngcontent-%COMP%]{width:100%;overflow:auto}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.positive[_ngcontent-%COMP%]{color:#81d058;font-weight:700;min-width:60px}.positive[_ngcontent-%COMP%]:before{content:"+"}.negative[_ngcontent-%COMP%]{color:#fc0000;font-weight:700;min-width:60px}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;display:flex}.currency-detail-card[_ngcontent-%COMP%]{margin:8px}td.mat-cell[_ngcontent-%COMP%]:first-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px}td.mat-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:last-of-type{padding-right:10px}.mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding:8px 0}.favourite-icon[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;height:16px;width:16px}'],data:{animation:[Object(i.n)("detailExpand",[Object(i.k)("collapsed",Object(i.l)({height:"0px",minHeight:"0"})),Object(i.k)("expanded",Object(i.l)({height:"*"})),Object(i.m)("expanded <=> collapsed",Object(i.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e}()},IqTx:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c("lJxs"),a=c("fXoL"),i=c("tk/3"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t,this.currenciesBaseUrl="/api/currencies"}return _createClass(e,[{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currenciesBaseUrl;return e&&(t+="?favourites=true"),console.log(t),this.http.get(t).pipe(Object(n.a)((function(e){return e.currencies.forEach((function(e){return e.imageUrl="https://s2.coinmarketcap.com/static/img/coins/64x64/"+e.id+".png"})),e})))}},{key:"addToFavourite",value:function(e){return this.http.post("".concat(this.currenciesBaseUrl,"/").concat(e,"/favorite"),null)}},{key:"removeFromFavourites",value:function(e){return this.http.delete("".concat(this.currenciesBaseUrl,"/").concat(e,"/favorite"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Yb(i.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);