function _defineProperties(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{tpnC:function(t,e,r){"use strict";r.r(e);var a=r("ofXK"),n=r("tyNb"),i=r("3Pt+"),o=r("SxV6"),s=function t(e,r,a,n,i){_classCallCheck(this,t),this.username=n,this.email=e,this.firstname=r,this.lastname=a,this.password=i},c=r("fXoL"),l=r("ej43"),u=r("qfBg"),m=r("dNgK"),p=r("XiUz"),d=r("Wp6s"),f=r("znSr"),b=r("wZkO"),h=r("kmnG"),g=r("qFsG"),v=r("bTqV"),w=r("f3yp");function S(t,e){1&t&&(c.Sb(0,"mat-error"),c.tc(1," The email and password were not recognised "),c.Rb())}function C(t,e){1&t&&(c.Sb(0,"mat-error"),c.tc(1," password and confirm password fields don't match "),c.Rb())}function y(t,e){1&t&&(c.Sb(0,"mat-error"),c.tc(1," Passwords do not match "),c.Rb())}function P(t,e){1&t&&c.Ob(0,"app-spinner")}var k,R,N=[{path:"",component:(k=function(){function t(e,r,a,n,i,o){_classCallCheck(this,t),this.formBuilder=e,this.route=r,this.router=a,this.authenticationService=n,this.userService=i,this.matSnackBar=o,this.loading=!1,this.submitted=!1,this.checkPasswords=function(t){var e=t.get("password"),r=t.get("confirmPassword");if(""!==e.value&&""!==r.value)return e.value===r.value?null:{notSame:!0}},this.authenticationService.currentUserValue&&this.router.navigate(["/"])}return _createClass(t,[{key:"ngOnInit",value:function(){this.signUpForm=this.formBuilder.group({email:["",[i.p.required,i.p.email]],firstName:[""],lastName:[""],username:["",i.p.required],password:["",i.p.required],confirmPassword:["",i.p.required]},{validators:this.checkPasswords}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}},{key:"onSubmit",value:function(){var t=this;if(this.submitted=!0,!this.signUpForm.invalid){this.loading=!0;var e=new s(this.f.email.value,this.f.firstName.value,this.f.lastName.value,this.f.username.value,this.f.password.value);this.userService.createUser(e).pipe(Object(o.a)()).subscribe((function(e){t.matSnackBar.open("User Creation was successful, please login to continue.","dismiss",{duration:5e3,verticalPosition:"top"}),t.router.navigate(["/verification/login"])}),(function(e){t.loginInvalid=!0,t.loading=!1}))}}},{key:"f",get:function(){return this.signUpForm.controls}}]),t}(),k.\u0275fac=function(t){return new(t||k)(c.Nb(i.c),c.Nb(n.a),c.Nb(n.b),c.Nb(l.a),c.Nb(u.a),c.Nb(m.a))},k.\u0275cmp=c.Hb({type:k,selectors:[["app-sign-up"]],decls:36,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"mat-card-wrapper"],["ngClass.gt-xs","card-gt-xs","ngClass.lt-sm","card-lt-sm",1,"mat-elevation-z4"],["mat-tab-nav-bar",""],["fxFlex","50%","mat-tab-link","","routerLink","/verification/login",3,"active"],["fxFlex","50%","mat-tab-link","","routerLink","/verification/signup",3,"active"],["fxLayout","column","fxLayoutAlign","center",1,"padding-16",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width-input"],["formControlName","email","matInput","","placeholder","Email","required",""],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","calc(50% - 5px)",1,"full-width-input"],["formControlName","firstName","matInput","","placeholder","First name"],["formControlName","lastName","matInput","","placeholder","Last name"],["formControlName","username","matInput","","placeholder","User name","required",""],["formControlName","password","matInput","","placeholder","Password","required","","type","password"],["formControlName","confirmPassword","matInput","","placeholder","Confirm Password","required","","type","password"],["color","primary","mat-raised-button","",1,"margin-top-10"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"mat-card",1),c.Sb(2,"mat-card-content"),c.Sb(3,"nav",2),c.Sb(4,"a",3),c.tc(5," Login "),c.Rb(),c.Sb(6,"a",4),c.tc(7," Sign Up "),c.Rb(),c.Rb(),c.Sb(8,"form",5),c.ac("ngSubmit",(function(){return e.onSubmit()})),c.sc(9,S,2,0,"mat-error",6),c.sc(10,C,2,0,"mat-error",6),c.Sb(11,"mat-form-field",7),c.Ob(12,"input",8),c.Sb(13,"mat-error"),c.tc(14," Please provide a valid email address "),c.Rb(),c.Rb(),c.Sb(15,"div",9),c.Sb(16,"mat-form-field",10),c.Ob(17,"input",11),c.Rb(),c.Sb(18,"mat-form-field",10),c.Ob(19,"input",12),c.Rb(),c.Rb(),c.Sb(20,"mat-form-field",7),c.Ob(21,"input",13),c.Sb(22,"mat-error"),c.tc(23," Please provide a username. "),c.Rb(),c.Rb(),c.Sb(24,"mat-form-field",7),c.Ob(25,"input",14),c.Sb(26,"mat-error"),c.tc(27," Please provide a valid password "),c.Rb(),c.Rb(),c.Sb(28,"mat-form-field",7),c.Ob(29,"input",15),c.Sb(30,"mat-error"),c.tc(31," Please re type the password "),c.Rb(),c.sc(32,y,2,0,"mat-error",6),c.Rb(),c.Sb(33,"button",16),c.tc(34,"Sign Up"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.sc(35,P,1,0,"app-spinner",6)),2&t&&(c.Bb(4),c.gc("active",!1),c.Bb(2),c.gc("active",!0),c.Bb(2),c.gc("formGroup",e.signUpForm),c.Bb(1),c.gc("ngIf",e.loginInvalid),c.Bb(1),c.gc("ngIf",null==e.signUpForm.errors?null:e.signUpForm.errors.notSame),c.Bb(22),c.gc("ngIf",e.signUpForm.hasError("notSame")),c.Bb(3),c.gc("ngIf",e.loading))},directives:[p.c,p.b,d.a,f.a,d.b,b.b,n.d,p.a,b.a,i.q,i.k,i.e,a.j,h.b,i.b,g.a,i.j,i.d,i.o,h.a,p.d,v.a,w.a],styles:[".mat-card-wrapper[_ngcontent-%COMP%]{height:90vh;text-align:center;padding:8px}.card-gt-xs[_ngcontent-%COMP%]{width:50%}.card-lt-sm[_ngcontent-%COMP%]{width:95%}mat-form-field[_ngcontent-%COMP%]{display:block}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}"]}),k)}],x=((R=function t(){_classCallCheck(this,t)}).\u0275mod=c.Lb({type:R}),R.\u0275inj=c.Kb({factory:function(t){return new(t||R)},imports:[[n.e.forChild(N)],n.e]}),R),U=r("PCNd"),O=r("YUcS");r.d(e,"SignUpModule",(function(){return I}));var _,I=((_=function t(){_classCallCheck(this,t)}).\u0275mod=c.Lb({type:_}),_.\u0275inj=c.Kb({factory:function(t){return new(t||_)},imports:[[a.b,x,d.c,i.n,h.d,U.a,v.b,g.b,O.a,b.c,m.b]]}),_)}}]);